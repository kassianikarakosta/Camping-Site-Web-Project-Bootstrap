<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-6 col-md-8 col-sm-10">
            <h2 class="text-center mb-4">Reserve-Book</h2>
            <form>
                <div class="form-group">
                    <h3 class="buffers">Arrival and departure</h3>
                    <label for="arrival_date">Arrival date</label>
                    <input type="date" class="form-control" id ="arrival_date" name="arrival_date" >
                    <label for="departure_date">Departure date</label>
                    <input type="date" class="form-control" id ="departure_date" name="departure_date" >
                    <br>
                    <button class="btn btn-primary btn-block" type="submit" value="Search">Search</button>
                </div>
                <div class="form-group">
                    <h3 class="buffers">Choose room</h3>
                    <label for="exampleDropdown">Select the accomondation type:</label>
                    <select class="form-control" id="room selection">
                        <option value="option1">Camping Seaside - 12€/day </option>
                        <option value="option2">Camping Natural shadow - 11€/day</option>
                        <option value="option3">Camping Normal -11€/day</option>
                        <option value="option4">Camper Seaside - 18€/day</option>
                        <option value="option5">Camper Natural shadow - 17€/day</option>
                        <option value="option6">Camper Normal -16€/day</option>
                        <option value="option7">2 Persons bungalow -60€/day</option>
                        <option value="option8">3 Persons bungalow- 70€/day</option>
                        <option value="option9">4 Persons bungalow - 80€/day</option>
                        <option value="option10">Bell tent - 60€/day</option>
                    </select>
                    <label for="id">Accomondations</label>
                    <input type="number" class="form-control" id="id" name="id" value="0">
                </div>
                <h2 class="buffers">Optional</h2>
                <div class="form-group">
                    <label for="number_of_persons">Persons - 8€/day</label>
                    <input type="number" class="form-control" id="number_of_persons" name="number_of_persons" value="1"> 
                    <label for="link">link to client</label>
                    <input type="text" class="form-control" id="link" name="link" value=""> 
                        
                </div>
                <div class="form-group">
                    <h3 class="buffers">Calculate price</h3>
                    <input type="number" id="total_price" class="form-control" value="1000">
                    
                </div>
                <button type="submit" class="btn btn-primary btn-block">book</button>
            </form>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        console.log("Document ready");
        // Bind calculateTotalPrice function to input event of each input field
        $('input').on('input', function() {
            calculateTotalPriceday();
            
        });
        
        // Function to calculate total price
        function calculateTotalPriceday() {
            // Get values of all input fields
            var persons = parseInt($('#number_of_persons').val());
            var sunnyCamping = parseInt($('#sunny_camping').val());
            var treeCamping = parseInt($('#tree_camping').val());
            var normalCamping = parseInt($('#normal_camping').val());
            var sunnyCampers = parseInt($('#sunny_campers').val());
            var treeCampers = parseInt($('#tree_campers').val());
            var normalCampers = parseInt($('#normal_campers').val());
            var twoPersonsBungalow = parseInt($('#2_persons').val());
            var threePersonsBungalow = parseInt($('#3_persons').val());
            var fourPersonsBungalow = parseInt($('#4_persons').val());
            var bellTent = parseInt($('#bell_tent').val());
            var arrivalDate = new Date($('#arrival_date').val());
            var departureDate = new Date($('#departure_date').val());
            var daysBetween = Math.round((departureDate - arrivalDate) / (1000 * 60 * 60 * 24)); // Convert milliseconds to days
        
            // Calculate total price based on input values
            var totalPrice = (persons * 8) + (sunnyCamping * 12) + (treeCamping * 11) + (normalCamping * 11) +
                            (sunnyCampers * 18) + (treeCampers * 17) + (normalCampers * 16) +
                            (twoPersonsBungalow * 60) + (threePersonsBungalow * 70) + (fourPersonsBungalow * 80) +
                            (bellTent * 60);
            var totalPricefinal = daysBetween*totalPrice;
            // Update total price input field
            $('#total_price_day').val(totalPrice);
            $('#total_price').val(totalPricefinal);
        }  
        
    });
</script>